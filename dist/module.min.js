!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("xmldom"),require("angular")):"function"==typeof define&&define.amd?define(["xmldom","angular"],t):"object"==typeof exports?exports["angular-jxon"]=t(require("xmldom"),require("angular")):e["angular-jxon"]=t(e.xmldom,e.angular)}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){/**
	* @name angular-jxon
	* @author Joseph Quinn <lykouleon.eve@gmail.com>
	* @license MIT
	* @requires angular/angular@>=1.3.0 <2
	* @exports angular-jxon.name
	*/
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();"undefined"==typeof window.DOMParser&&(window.DOMParser=r(1).DOMParser,window.document={},window.document.implementation=new(r(1).DOMImplementation));var a=function(){function e(){n(this,e)}return o(e,[{key:"toString",value:function(){return"null"}},{key:"valueOf",value:function(){return null}}]),e}(),i={sValueProp:"keyValue",sAttrProp:"keyAttributes",sAttrsPref:"@",sLowCase:!0,sEmptyTrue:!0,sAutoDate:!0,sIgnorePrefixed:!1,aCache:[],rIsNull:/^\s*$/,rIsBool:/^(?:true|false)$/i},s=function(e){return null===e?new a:e instanceof Object?e:new e.constructor(e)},u=function(e){return i.rIsNull.test(e)?null:i.rIsBool.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):i.sAutoDate&&isFinite(Date.parse(e))?new Date(e):e},l=function p(e,t,r,n){var o,a,l=i.aCache.length,c=e.hasChildNodes(),f=e.nodeType===e.ELEMENT_NODE&&e.hasAttributes(),d=Boolean(2&t),m=0,h="",g=d?{}:!0;if(c)for(var y,w=0;w<e.childNodes.length;w+=1)y=e.childNodes.item(w),4===y.nodeType?h+=y.nodeValue:3===y.nodeType?h+=y.nodeValue.trim():1!==y.nodeType||i.sIgnorePrefixed&&y.prefix||i.aCache.push(y);var x=i.aCache.length,v=u(h);d||!c&&!f||(g=0===t?s(v):{});for(var T=l;x>T;T+=1)o=i.aCache[T].nodeName,i.sLowCase&&(o=o.toLowerCase()),a=p(i.aCache[T],t,r,n),g.hasOwnProperty(o)?(g[o].constructor!==Array&&(g[o]=[g[o]]),g[o].push(a)):(g[o]=a,m+=1);if(f){for(var b,P,C=e.attributes.length,A=n?"":i.sAttrsPref,k=n?{}:g,S=0;C>S;m+=1,S+=1)b=e.attributes.item(S),P=b.name,i.sLowCase&&(P=P.toLowerCase()),k[A+P]=u(b.value.trim());n&&(r&&Object.freeze(k),g[i.sAttrProp]=k,m-=C-1)}return 3===t||(2===t||1===t&&m>0)&&h?g[i.sValueProp]=v:!d&&0===m&&h&&(g=v),r&&(d||m>0)&&Object.freeze(g),i.aCache.length=l,g},c=function m(e,t,r){var n,o;if(r.constructor===String||r.constructor===Number||r.constructor===Boolean){if(t.appendChild(e.createTextNode(r.toString())),r===r.valueOf())return}else r.constructor===Date&&t.appendChild(e.createTextNode(r.toGMTString()));for(var a in r)if(r.hasOwnProperty(a)){if(n=r[a],isFinite(a)||n instanceof Function)continue;if(a===i.sValueProp)null!==n&&n!==!0&&t.appendChild(e.createTextNode(n.constructor===Date?n.toGMTString():String(n)));else if(a===i.sAttrProp)for(var s in n)n.hasOwnProperty(s)&&t.setAttribute(s,n[s]);else if(a.charAt(0)===i.sAttrsPref&&a!==i.sAttrsPref+"xmlns")t.setAttribute(a.slice(1),n);else if(n.constructor===Array)for(var u=0;u<n.length;u+=1)o=e.createElementNS(n[u][i.sAttrsPref+"xmlns"]||t.namespaceURI,a),m(e,o,n[u]),t.appendChild(o);else o=e.createElementNS((n||{})[i.sAttrsPref+"xmlns"]||t.namespaceURI,a),n instanceof Object?m(e,o,n):null!==n&&n!==!0?o.appendChild(e.createTextNode(n.toString())):i.sEmptyTrue||n!==!0||o.appendChild(e.createTextNode(n.toString())),t.appendChild(o)}},f=function(){function e(){n(this,e)}return o(e,[{key:"xmlToString",value:function(e){return"undefined"!=typeof e.xml?e.xml:("undefined"==typeof window.XMLSerializer&&(window.XMLSerializer=r(1).XMLSerializer),(new window.XMLSerializer).serializeToString(e))}},{key:"build",value:function(e,t,r,n){return this.xmlToJs(e,t,r,n)}},{key:"jsToXml",value:function(e,t,r,n){var o=window.document.implementation.createDocument(t||null,r||"",n||null);return c(o,o.documentElement||o,e),o}},{key:"unbuild",value:function(e,t,r,n){return this.jsToXml(e,t,r,n)}},{key:"stringToXml",value:function(e){return(new window.DOMParser).parseFromString(e,"application/xml")}},{key:"jsToString",value:function(e,t,r,n){return this.xmlToString(this.jsToXml(e,t,r,n))}},{key:"stringify",value:function(e,t,r,n){return this.jsToString(e,t,r,n)}},{key:"stringToJs",value:function(e){var t=this.stringToXml(e);return this.xmlToJs(t)}},{key:"xmlToJs",value:function(e,t,r,n){var o=arguments.length>1&&"number"==typeof t?3&t:1;return l(e,o,r||!1,arguments.length>3?n:3===o)}}]),e}(),d=r(2).module("angular-jxon",["ng"]);d.provider("$JXON",function(){this.config=function(e){if("object"!=typeof e)throw new TypeError("config must be an object");for(var t in e)if(e.hasOwnProperty(t))switch(t){case"valueKey":i.sValueProp=e.valueKey;break;case"attrKey":i.sAttrProp=e.attrKey;break;case"attrPrefix":i.sAttrsPref=e.attrPrefix;break;case"lowerCaseTags":i.sLowCase=e.lowerCaseTags;break;case"trueIsEmpty":i.sEmptyTrue=e.trueIsEmpty;break;case"autoDate":i.sAutoDate=e.autoDate;break;case"ignorePrefixedNodes":i.sIgnorePrefixed=e.ignorePrefixedNodes}},this.$get=function(){return new f}}),e.exports=d.name},function(t,r,n){t.exports=e},function(e,r,n){e.exports=t}])});
//# sourceMappingURL=module.min.map