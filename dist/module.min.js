(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b(require('angular')):'function'==typeof define&&define.amd?define(['angular'],b):'object'==typeof exports?exports['angular-jxon']=b(require('angular')):a['angular-jxon']=b(a.angular)})(this,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'undefined'==typeof window.DOMParser&&console.error('DOMParser is unavailable. Please load a DOMParser shim before the angular-jxon module');class d{constructor(){}toString(){return'null'}valueOf(){return null}}var e={sValueProp:'keyValue',sAttrProp:'keyAttributes',sAttrsPref:'@',sLowCase:!0,sEmptyTrue:!0,sAutoDate:!0,sIgnorePrefixed:!1,aCache:[],rIsNull:/^\s*$/,rIsBool:/^(?:true|false)$/i};const f=function(a){return null===a?new d:a instanceof Object?a:new a.constructor(a)},g=function(a){return e.rIsNull.test(a)?null:e.rIsBool.test(a)?'true'===a.toLowerCase():isFinite(a)?parseFloat(a):e.sAutoDate&&isFinite(Date.parse(a))?new Date(a):a},h=function(a,b,c,d){var i,j,k=e.aCache.length,l=a.hasChildNodes(),m=a.nodeType===a.ELEMENT_NODE&&a.hasAttributes(),n=!!(2&b),o=0,p='',q=!n||{};if(l)for(var r,s=0;s<a.childNodes.length;++s)r=a.childNodes.item(s),4===r.nodeType?p+=r.nodeValue:3===r.nodeType?p+=r.nodeValue.trim():1===r.nodeType&&!(e.sIgnorePrefixed&&r.prefix)&&e.aCache.push(r);var t=e.aCache.length,u=g(p);!n&&(l||m)&&(q=0===b?f(u):{});for(var v=k;v<t;++v)i=e.aCache[v].nodeName,e.sLowCase&&(i=i.toLowerCase()),j=h(e.aCache[v],b,c,d),q.hasOwnProperty(i)?(q[i].constructor!==Array&&(q[i]=[q[i]]),q[i].push(j)):(q[i]=j,++o);if(m){for(var w,x,y=a.attributes.length,z=d?'':e.sAttrsPref,A=d?{}:q,B=0;B<y;++o,++B)w=a.attributes.item(B),x=w.name,e.sLowCase&&(x=x.toLowerCase()),A[z+x]=g(w.value.trim());d&&(c&&Object.freeze(A),q[e.sAttrProp]=A,o-=y-1)}return 3===b||(2===b||1===b&&0<o)&&p?q[e.sValueProp]=u:!n&&0==o&&p&&(q=u),c&&(n||0<o)&&Object.freeze(q),e.aCache.length=k,q},i=function(a,b,c){var d,f;if(c.constructor!==String&&c.constructor!==Number&&c.constructor!==Boolean)c.constructor===Date&&b.appendChild(a.createTextNode(c.toGMTString()));else if(b.appendChild(a.createTextNode(c.toString())),c===c.valueOf())return;for(var g in c)if(c.hasOwnProperty(g)){if(d=c[g],isFinite(g)||d instanceof Function)continue;if(g===e.sValueProp)null!==d&&!0!==d&&b.appendChild(a.createTextNode(d.constructor===Date?d.toGMTString():d+''));else if(g===e.sAttrProp)for(var h in d)d.hasOwnProperty(h)&&b.setAttribute(h,d[h]);else if(g.charAt(0)===e.sAttrsPref&&g!=e.sAttrsPref+'xmlns')b.setAttribute(g.slice(1),d);else if(d.constructor===Array)for(var j=0;j<d.length;++j)f=a.createElementNS(d[j][e.sAttrsPref+'xmlns']||b.namespaceURI,g),i(a,f,d[j]),b.appendChild(f);else f=a.createElementNS((d||{})[e.sAttrsPref+'xmlns']||b.namespaceURI,g),d instanceof Object?i(a,f,d):null!==d&&!0!==d?f.appendChild(a.createTextNode(d.toString())):!e.sEmptyTrue&&!0===d&&f.appendChild(a.createTextNode(d.toString())),b.appendChild(f)}};class j{constructor(){}xmlToString(a){return'undefined'==typeof a.xml?new window.XMLSerializer().serializeToString(a):a.xml}build(a,b,c,d){return this.xmlToJs(a,b,c,d)}jsToXml(a,b,c,d){var e=window.document.implementation.createDocument(b||null,c||'',d||null);return i(e,e.documentElement||e,a),e}unbuild(a,b,c,d){return this.jsToXml(a,b,c,d)}stringToXml(a){return new window.DOMParser().parseFromString(a,'application/xml')}jsToString(a,b,c,d){return this.xmlToString(this.jsToXml(a,b,c,d))}stringify(a,b,c,d){return this.jsToString(a,b,c,d)}stringToJs(a){var b=this.stringToXml(a);return this.xmlToJs(b)}xmlToJs(a,b,c,d){var e=1<arguments.length&&'number'==typeof b?3&b:1;return h(a,e,c||!1,3<arguments.length?d:3==e)}}var k=c(1).module('angular-jxon',['ng']);k.provider('$JXON',function(){this.config=function(a){if('object'==typeof a){for(var b in a)if(a.hasOwnProperty(b))switch(b){case'valueKey':e.sValueProp=a.valueKey;break;case'attrKey':e.sAttrProp=a.attrKey;break;case'attrPrefix':e.sAttrsPref=a.attrPrefix;break;case'lowerCaseTags':e.sLowCase=a.lowerCaseTags;break;case'trueIsEmpty':e.sEmptyTrue=a.trueIsEmpty;break;case'autoDate':e.sAutoDate=a.autoDate;break;case'ignorePrefixedNodes':e.sIgnorePrefixed=a.ignorePrefixedNodes;break;default:}}else throw new TypeError('config must be an object')},this.$get=function(){return new j}}),a.exports=k.name},function(b){b.exports=a}])});
//# sourceMappingURL=module.min.map