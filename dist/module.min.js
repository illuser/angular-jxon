(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b(require('angular')):'function'==typeof define&&define.amd?define(['angular'],b):'object'==typeof exports?exports['angular-jxon']=b(require('angular')):a['angular-jxon']=b(a.angular)})(this,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';function d(c,a){if(!(c instanceof a))throw new TypeError('Cannot call a class as a function')}var e='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&'function'==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?'symbol':typeof b},f=function(){function e(e,f){for(var b,c=0;c<f.length;c++)b=f[c],b.enumerable=b.enumerable||!1,b.configurable=!0,'value'in b&&(b.writable=!0),Object.defineProperty(e,b.key,b)}return function(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}}();'undefined'==typeof window.DOMParser&&console.error('DOMParser is unavailable. Please load a DOMParser shim before the angular-jxon module');var g=function(){function b(){d(this,b)}return f(b,[{key:'toString',value:function(){return'null'}},{key:'valueOf',value:function(){return null}}]),b}(),y={sValueProp:'keyValue',sAttrProp:'keyAttributes',sAttrsPref:'@',sLowCase:!0,sEmptyTrue:!0,sAutoDate:!0,sIgnorePrefixed:!1,aCache:[],rIsNull:/^\s*$/,rIsBool:/^(?:true|false)$/i},z=function(b){return null===b?new g:b instanceof Object?b:new b.constructor(b)},A=function(b){return y.rIsNull.test(b)?null:y.rIsBool.test(b)?'true'===b.toLowerCase():isFinite(b)?parseFloat(b):y.sAutoDate&&isFinite(Date.parse(b))?new Date(b):b},h=function(B,a,b,c){var d,e,f=y.aCache.length,g=B.hasChildNodes(),C=B.nodeType===B.ELEMENT_NODE&&B.hasAttributes(),i=!!(2&a),D=0,k='',l=!i||{};if(g)for(var m,p=0;p<B.childNodes.length;++p)m=B.childNodes.item(p),4===m.nodeType?k+=m.nodeValue:3===m.nodeType?k+=m.nodeValue.trim():1===m.nodeType&&!(y.sIgnorePrefixed&&m.prefix)&&y.aCache.push(m);var q=y.aCache.length,n=A(k);!i&&(g||C)&&(l=0===a?z(n):{});for(var o=f;o<q;++o)d=y.aCache[o].nodeName,y.sLowCase&&(d=d.toLowerCase()),e=h(y.aCache[o],a,b,c),l.hasOwnProperty(d)?(l[d].constructor!==Array&&(l[d]=[l[d]]),l[d].push(e)):(l[d]=e,++D);if(C){for(var r,s,t=B.attributes.length,u=c?'':y.sAttrsPref,v=c?{}:l,w=0;w<t;++D,++w)r=B.attributes.item(w),s=r.name,y.sLowCase&&(s=s.toLowerCase()),v[u+s]=A(r.value.trim());c&&(b&&Object.freeze(oAttrParent),l[y.sAttrProp]=oAttrParent,D-=nAttrLen-1)}return 3===a||(2===a||1===a&&0<D)&&k?l[y.sValueProp]=n:!i&&0==D&&k&&(l=n),b&&(i||0<D)&&Object.freeze(l),y.aCache.length=f,l},i=function(j,a,b){var c,d;if(b.constructor!==String&&b.constructor!==Number&&b.constructor!==Boolean)b.constructor===Date&&a.appendChild(j.createTextNode(b.toGMTString()));else if(a.appendChild(j.createTextNode(b.toString())),b===b.valueOf())return;for(var e in b)if(b.hasOwnProperty(e)){if(c=b[e],isFinite(e)||c instanceof Function)continue;if(e===y.sValueProp)null!==c&&!0!==c&&a.appendChild(j.createTextNode(c.constructor===Date?c.toGMTString():c+''));else if(e===y.sAttrProp)for(var f in c)c.hasOwnProperty(f)&&a.setAttribute(f,c[f]);else if(e.charAt(0)===y.sAttrsPref&&e!=y.sAttrsPref+'xmlns')a.setAttribute(e.slice(1),c);else if(c.constructor===Array)for(var g=0;g<c.length;++g)d=j.createElementNS(c[g][y.sAttrsPref+'xmlns']||a.namespaceURI,e),i(j,d,c[g]),a.appendChild(d);else d=j.createElementNS((c||{})[y.sAttrsPref+'xmlns']||a.namespaceURI,e),c instanceof Object?i(j,d,c):null!==c&&!0!==c?d.appendChild(j.createTextNode(c.toString())):!y.sEmptyTrue&&!0===c&&d.appendChild(j.createTextNode(c.toString())),a.appendChild(d)}},j=function(){function b(){d(this,b)}return f(b,[{key:'xmlToString',value:function(b){return'undefined'==typeof b.xml?new window.XMLSerializer().serializeToString(b):b.xml}},{key:'build',value:function(e,a,b,c){return this.xmlToJs(e,a,b,c)}},{key:'jsToXml',value:function(f,a,b,c){var d=window.document.implementation.createDocument(a||null,b||'',c||null);return i(d,d.documentElement||d,f),d}},{key:'unbuild',value:function(e,a,b,c){return this.jsToXml(e,a,b,c)}},{key:'stringToXml',value:function(b){return new window.DOMParser().parseFromString(b,'application/xml')}},{key:'jsToString',value:function(e,a,b,c){return this.xmlToString(this.jsToXml(e,a,b,c))}},{key:'stringify',value:function(e,a,b,c){return this.jsToString(e,a,b,c)}},{key:'stringToJs',value:function(c){var a=this.stringToXml(c);return this.xmlToJs(a)}},{key:'xmlToJs',value:function(f,a,g,c){var d=1<arguments.length&&'number'==typeof a?3&a:1;return h(f,d,g||!1,3<arguments.length?c:3==d)}}]),b}(),k=c(1).module('angular-jxon',['ng']);k.provider('$JXON',function(){this.config=function(c){if('object'===('undefined'==typeof c?'undefined':e(c))){for(var d in c)if(c.hasOwnProperty(d))switch(d){case'valueKey':y.sValueProp=c.valueKey;break;case'attrKey':y.sAttrProp=c.attrKey;break;case'attrPrefix':y.sAttrsPref=c.attrPrefix;break;case'lowerCaseTags':y.sLowCase=c.lowerCaseTags;break;case'trueIsEmpty':y.sEmptyTrue=c.trueIsEmpty;break;case'autoDate':y.sAutoDate=c.autoDate;break;case'ignorePrefixedNodes':y.sIgnorePrefixed=c.ignorePrefixedNodes;break;default:}}else throw new TypeError('config must be an object')},this.$get=function(){return new j}}),a.exports=k.name},function(b){b.exports=a}])});
//# sourceMappingURL=module.min.map