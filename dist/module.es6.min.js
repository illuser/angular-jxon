!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof exports?exports["angular-jxon"]=t(require("angular")):e["angular-jxon"]=t(e.angular)}(window,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){
/**
* @name angular-jxon
* @author Joseph Quinn <quinn.josephr@protonmail.com>
* @license MIT
* @requires angular/angular@>=1.3.0 < 2
* @exports angular-jxon.name
*/
void 0===window.DOMParser&&console.error("DOMParser is unavailable. Please load a DOMParser shim before the angular-jxon module");class n{constructor(){}toString(){return"null"}valueOf(){return null}}const o={sValueProp:"keyValue",sAttrProp:"keyAttributes",sAttrsPref:"@",sLowCase:!0,sEmptyTrue:!0,sAutoDate:!0,sIgnorePrefixed:!1,aCache:[],rIsNull:/^\s*$/,rIsBool:/^(?:true|false)$/i},a=function(e){return o.rIsNull.test(e)?null:o.rIsBool.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):o.sAutoDate&&isFinite(Date.parse(e))?new Date(e):e},s=function(e,t,r,l){let i,u,c=o.aCache.length,f=e.hasChildNodes(),p=e.nodeType===e.ELEMENT_NODE&&e.hasAttributes(),d=Boolean(2&t),m=0,g="",h=!d||{};if(f)for(let t,r=0;r<e.childNodes.length;r+=1)4===(t=e.childNodes.item(r)).nodeType?g+=t.nodeValue:3===t.nodeType?g+=t.nodeValue.trim():1!==t.nodeType||o.sIgnorePrefixed&&t.prefix||o.aCache.push(t);let b=o.aCache.length,y=a(g);var x;d||!f&&!p||(h=0===t?null===(x=y)?new n:x instanceof Object?x:new x.constructor(x):{});for(let e=c;e<b;e+=1)i=o.aCache[e].nodeName,o.sLowCase&&(i=i.toLowerCase()),u=s(o.aCache[e],t,r,l),Object.prototype.hasOwnProperty.call(h,i)?(h[i].constructor!==Array&&(h[i]=[h[i]]),h[i].push(u)):(h[i]=u,m+=1);if(p){let t=e.attributes.length,n=l?"":o.sAttrsPref,s=l?{}:h;for(let r,l,i=0;i<t;m+=1,i+=1)l=(r=e.attributes.item(i)).name,o.sLowCase&&(l=l.toLowerCase()),s[n+l]=a(r.value.trim());l&&(r&&Object.freeze(s),h[o.sAttrProp]=s,m-=t-1)}return 3===t||(2===t||1===t&&m>0)&&g?h[o.sValueProp]=y:!d&&0===m&&g&&(h=y),r&&(d||m>0)&&Object.freeze(h),o.aCache.length=c,h},l=function(e,t,r){let n,a;if(r.constructor===String||r.constructor===Number||r.constructor===Boolean){if(t.appendChild(e.createTextNode(r.toString())),r===r.valueOf())return}else r.constructor===Date&&t.appendChild(e.createTextNode(r.toGMTString()));for(let s in r)if(Obejct.prototype.hasOwnProperty.call(r,s)){if(n=r[s],isFinite(s)||n instanceof Function)continue;if(s===o.sValueProp)null!==n&&!0!==n&&t.appendChild(e.createTextNode(n.constructor===Date?n.toGMTString():String(n)));else if(s===o.sAttrProp)for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.setAttribute(e,n[e]);else if(s.charAt(0)===o.sAttrsPref&&s!==o.sAttrsPref+"xmlns")t.setAttribute(s.slice(1),n);else if(n.constructor===Array)for(let r=0;r<n.length;r+=1)a=e.createElementNS(n[r][o.sAttrsPref+"xmlns"]||t.namespaceURI,s),l(e,a,n[r]),t.appendChild(a);else a=e.createElementNS((n||{})[o.sAttrsPref+"xmlns"]||t.namespaceURI,s),n instanceof Object?l(e,a,n):null!==n&&!0!==n?a.appendChild(e.createTextNode(n.toString())):o.sEmptyTrue||!0!==n||a.appendChild(e.createTextNode(n.toString())),t.appendChild(a)}};class i{constructor(){}xmlToString(e){return void 0!==e.xml?e.xml:(new window.XMLSerializer).serializeToString(e)}build(e,t,r,n){return this.xmlToJs(e,t,r,n)}jsToXml(e,t,r,n){let o=window.document.implementation.createDocument(t||null,r||"",n||null);return l(o,o.documentElement||o,e),o}unbuild(e,t,r,n){return this.jsToXml(e,t,r,n)}stringToXml(e){return(new window.DOMParser).parseFromString(e,"application/xml")}jsToString(e,t,r,n){return this.xmlToString(this.jsToXml(e,t,r,n))}stringify(e,t,r,n){return this.jsToString(e,t,r,n)}stringToJs(e){let t=this.stringToXml(e);return this.xmlToJs(t)}xmlToJs(e,t,r,n){let o=arguments.length>1&&"number"==typeof t?3&t:1;return s(e,o,r||!1,arguments.length>3?n:3===o)}}let u=r(1).module("angular-jxon",["ng"]);u.provider("$JXON",function(){this.config=function(e){if("object"!=typeof e)throw new TypeError("config must be an object");for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(t){case"valueKey":o.sValueProp=e.valueKey;break;case"attrKey":o.sAttrProp=e.attrKey;break;case"attrPrefix":o.sAttrsPref=e.attrPrefix;break;case"lowerCaseTags":o.sLowCase=e.lowerCaseTags;break;case"trueIsEmpty":o.sEmptyTrue=e.trueIsEmpty;break;case"autoDate":o.sAutoDate=e.autoDate;break;case"ignorePrefixedNodes":o.sIgnorePrefixed=e.ignorePrefixedNodes}},this.$get=function(){return new i}}),e.exports=u.name},function(t,r){t.exports=e}])});