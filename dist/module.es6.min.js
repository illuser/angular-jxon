!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof exports?exports["angular-jxon"]=t(require("angular")):e["angular-jxon"]=t(e.angular)}(window,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(t){t.exports=e},function(e,t,r){void 0===window.DOMParser&&console.error("DOMParser is unavailable. Please load a DOMParser shim before the angular-jxon module");const n={sValueProp:"keyValue",sAttrProp:"keyAttributes",sAttrsPref:"@",sLowCase:!0,sEmptyTrue:!0,sAutoDate:!0,sIgnorePrefixed:!1,aCache:[],rIsNull:/^\s*$/,rIsBool:/^(?:true|false)$/i},o=function(e){return n.rIsNull.test(e)?null:n.rIsBool.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):n.sAutoDate&&isFinite(Date.parse(e))?new Date(e):e},s=function(e,t,r,a){let i,l,u=n.aCache.length,c=e.hasChildNodes(),f=e.nodeType===e.ELEMENT_NODE&&e.hasAttributes(),p=!!(2&t),d=0,m="",h=!p||{};if(c)for(let t,r=0;r<e.childNodes.length;++r)4===(t=e.childNodes.item(r)).nodeType?m+=t.nodeValue:3===t.nodeType?m+=t.nodeValue.trim():1===t.nodeType&&(!n.sIgnorePrefixed||!t.prefix)&&n.aCache.push(t);let g=n.aCache.length,x=o(m);!p&&(c||f)&&(h=0===t?function(e){return null===e?new class{constructor(){}toString(){return"null"}valueOf(){return null}}:e instanceof Object?e:new e.constructor(e)}(x):{});for(let e=u;e<g;++e)i=n.aCache[e].nodeName,n.sLowCase&&(i=i.toLowerCase()),l=s(n.aCache[e],t,r,a),h.hasOwnProperty(i)?(h[i].constructor!==Array&&(h[i]=[h[i]]),h[i].push(l)):(h[i]=l,++d);if(f){let t=e.attributes.length,s=a?"":n.sAttrsPref,i=a?{}:h;for(let r,a,l=0;l<t;++d,++l)a=(r=e.attributes.item(l)).name,n.sLowCase&&(a=a.toLowerCase()),i[s+a]=o(r.value.trim());a&&(r&&Object.freeze(i),h[n.sAttrProp]=i,d-=t-1)}return 3===t||(2===t||1===t&&0<d)&&m?h[n.sValueProp]=x:!p&&0==d&&m&&(h=x),r&&(p||0<d)&&Object.freeze(h),n.aCache.length=u,h},a=function(e,t,r){let o,s;if(r.constructor!==String&&r.constructor!==Number&&r.constructor!==Boolean)r.constructor===Date&&t.appendChild(e.createTextNode(r.toGMTString()));else if(t.appendChild(e.createTextNode(r.toString())),r===r.valueOf())return;for(let i in r)if(r.hasOwnProperty(i)){if(o=r[i],isFinite(i)||o instanceof Function)continue;if(i===n.sValueProp)null!==o&&!0!==o&&t.appendChild(e.createTextNode(o.constructor===Date?o.toGMTString():o+""));else if(i===n.sAttrProp)for(let e in o)o.hasOwnProperty(e)&&t.setAttribute(e,o[e]);else if(i.charAt(0)===n.sAttrsPref&&i!=n.sAttrsPref+"xmlns")t.setAttribute(i.slice(1),o);else if(o.constructor===Array)for(let r=0;r<o.length;++r)s=e.createElementNS(o[r][n.sAttrsPref+"xmlns"]||t.namespaceURI,i),a(e,s,o[r]),t.appendChild(s);else s=e.createElementNS((o||{})[n.sAttrsPref+"xmlns"]||t.namespaceURI,i),o instanceof Object?a(e,s,o):null!==o&&!0!==o?s.appendChild(e.createTextNode(o.toString())):!n.sEmptyTrue&&!0===o&&s.appendChild(e.createTextNode(o.toString())),t.appendChild(s)}};let i=r(0).module("angular-jxon",["ng"]);i.provider("$JXON",function(){this.config=function(e){if("object"!=typeof e)throw new TypeError("config must be an object");for(let t in e)if(e.hasOwnProperty(t))switch(t){case"valueKey":n.sValueProp=e.valueKey;break;case"attrKey":n.sAttrProp=e.attrKey;break;case"attrPrefix":n.sAttrsPref=e.attrPrefix;break;case"lowerCaseTags":n.sLowCase=e.lowerCaseTags;break;case"trueIsEmpty":n.sEmptyTrue=e.trueIsEmpty;break;case"autoDate":n.sAutoDate=e.autoDate;break;case"ignorePrefixedNodes":n.sIgnorePrefixed=e.ignorePrefixedNodes}},this.$get=function(){return new class{constructor(){}xmlToString(e){return void 0===e.xml?(new window.XMLSerializer).serializeToString(e):e.xml}build(e,t,r,n){return this.xmlToJs(e,t,r,n)}jsToXml(e,t,r,n){let o=window.document.implementation.createDocument(t||null,r||"",n||null);return a(o,o.documentElement||o,e),o}unbuild(e,t,r,n){return this.jsToXml(e,t,r,n)}stringToXml(e){return(new window.DOMParser).parseFromString(e,"application/xml")}jsToString(e,t,r,n){return this.xmlToString(this.jsToXml(e,t,r,n))}stringify(e,t,r,n){return this.jsToString(e,t,r,n)}stringToJs(e){let t=this.stringToXml(e);return this.xmlToJs(t)}xmlToJs(e,t,r,n){let o=1<arguments.length&&"number"==typeof t?3&t:1;return s(e,o,r||!1,3<arguments.length?n:3==o)}}}}),e.exports=i.name}])});
//# sourceMappingURL=module.es6.min.map