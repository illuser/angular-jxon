(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b(require('angular')):'function'==typeof define&&define.amd?define(['angular'],b):'object'==typeof exports?exports['angular-jxon']=b(require('angular')):a['angular-jxon']=b(a.angular)})(this,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'undefined'==typeof window.DOMParser&&console.error('DOMParser is unavailable. Please load a DOMParser shim before the angular-jxon module');class d{constructor(){}toString(){return'null'}valueOf(){return null}}const e={sValueProp:'keyValue',sAttrProp:'keyAttributes',sAttrsPref:'@',sLowCase:!0,sEmptyTrue:!0,sAutoDate:!0,sIgnorePrefixed:!1,aCache:[],rIsNull:/^\s*$/,rIsBool:/^(?:true|false)$/i},f=function(a){return null===a?new d:a instanceof Object?a:new a.constructor(a)},g=function(a){return e.rIsNull.test(a)?null:e.rIsBool.test(a)?'true'===a.toLowerCase():isFinite(a)?parseFloat(a):e.sAutoDate&&isFinite(Date.parse(a))?new Date(a):a},h=function(a,b,c,d){let i,j,k=e.aCache.length,l=a.hasChildNodes(),m=a.nodeType===a.ELEMENT_NODE&&a.hasAttributes(),n=!!(2&b),o=0,p='',q=!n||{};if(l)for(let b,c=0;c<a.childNodes.length;++c)b=a.childNodes.item(c),4===b.nodeType?p+=b.nodeValue:3===b.nodeType?p+=b.nodeValue.trim():1===b.nodeType&&!(e.sIgnorePrefixed&&b.prefix)&&e.aCache.push(b);let r=e.aCache.length,s=g(p);!n&&(l||m)&&(q=0===b?f(s):{});for(let f=k;f<r;++f)i=e.aCache[f].nodeName,e.sLowCase&&(i=i.toLowerCase()),j=h(e.aCache[f],b,c,d),q.hasOwnProperty(i)?(q[i].constructor!==Array&&(q[i]=[q[i]]),q[i].push(j)):(q[i]=j,++o);if(m){let b=a.attributes.length,f=d?'':e.sAttrsPref,h=d?{}:q;for(let c,d,i=0;i<b;++o,++i)c=a.attributes.item(i),d=c.name,e.sLowCase&&(d=d.toLowerCase()),h[f+d]=g(c.value.trim());d&&(c&&Object.freeze(h),q[e.sAttrProp]=h,o-=b-1)}return 3===b||(2===b||1===b&&0<o)&&p?q[e.sValueProp]=s:!n&&0==o&&p&&(q=s),c&&(n||0<o)&&Object.freeze(q),e.aCache.length=k,q},i=function(a,b,c){let d,f;if(c.constructor!==String&&c.constructor!==Number&&c.constructor!==Boolean)c.constructor===Date&&b.appendChild(a.createTextNode(c.toGMTString()));else if(b.appendChild(a.createTextNode(c.toString())),c===c.valueOf())return;for(let g in c)if(c.hasOwnProperty(g)){if(d=c[g],isFinite(g)||d instanceof Function)continue;if(g===e.sValueProp)null!==d&&!0!==d&&b.appendChild(a.createTextNode(d.constructor===Date?d.toGMTString():d+''));else if(g===e.sAttrProp)for(let a in d)d.hasOwnProperty(a)&&b.setAttribute(a,d[a]);else if(g.charAt(0)===e.sAttrsPref&&g!=e.sAttrsPref+'xmlns')b.setAttribute(g.slice(1),d);else if(d.constructor===Array)for(let c=0;c<d.length;++c)f=a.createElementNS(d[c][e.sAttrsPref+'xmlns']||b.namespaceURI,g),i(a,f,d[c]),b.appendChild(f);else f=a.createElementNS((d||{})[e.sAttrsPref+'xmlns']||b.namespaceURI,g),d instanceof Object?i(a,f,d):null!==d&&!0!==d?f.appendChild(a.createTextNode(d.toString())):!e.sEmptyTrue&&!0===d&&f.appendChild(a.createTextNode(d.toString())),b.appendChild(f)}};class j{constructor(){}xmlToString(a){return'undefined'==typeof a.xml?new window.XMLSerializer().serializeToString(a):a.xml}build(a,b,c,d){return this.xmlToJs(a,b,c,d)}jsToXml(a,b,c,d){let e=window.document.implementation.createDocument(b||null,c||'',d||null);return i(e,e.documentElement||e,a),e}unbuild(a,b,c,d){return this.jsToXml(a,b,c,d)}stringToXml(a){return new window.DOMParser().parseFromString(a,'application/xml')}jsToString(a,b,c,d){return this.xmlToString(this.jsToXml(a,b,c,d))}stringify(a,b,c,d){return this.jsToString(a,b,c,d)}stringToJs(a){let b=this.stringToXml(a);return this.xmlToJs(b)}xmlToJs(a,b,c,d){let e=1<arguments.length&&'number'==typeof b?3&b:1;return h(a,e,c||!1,3<arguments.length?d:3==e)}}let k=c(1).module('angular-jxon',['ng']);k.provider('$JXON',function(){this.config=function(a){if('object'==typeof a){for(let b in a)if(a.hasOwnProperty(b))switch(b){case'valueKey':e.sValueProp=a.valueKey;break;case'attrKey':e.sAttrProp=a.attrKey;break;case'attrPrefix':e.sAttrsPref=a.attrPrefix;break;case'lowerCaseTags':e.sLowCase=a.lowerCaseTags;break;case'trueIsEmpty':e.sEmptyTrue=a.trueIsEmpty;break;case'autoDate':e.sAutoDate=a.autoDate;break;case'ignorePrefixedNodes':e.sIgnorePrefixed=a.ignorePrefixedNodes;break;default:}}else throw new TypeError('config must be an object')},this.$get=function(){return new j}}),a.exports=k.name},function(b){b.exports=a}])});
//# sourceMappingURL=module.es6.min.map